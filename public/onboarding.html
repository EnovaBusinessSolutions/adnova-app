<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Onboarding - ADNOVA AI</title>
  <link rel="stylesheet" href="onboarding.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" />
  <script src="https://unpkg.com/@shopify/app-bridge@3"></script>
  <script src="https://unpkg.com/@shopify/app-bridge-utils@3"></script>
</head>
<body data-page="onboarding" data-user-id="USER_ID_REAL">
   <span id="shopifyConnectedFlag"  style="display:none">SHOPIFY_CONNECTED_FLAG</span>
  <span id="googleConnectedFlag"   style="display:none">GOOGLE_CONNECTED_FLAG</span>
  <div class="onboarding-container">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="logo">
        <h1>ADNOVA AI<span class="emoji">🤖</span></h1>
      </div>

      <div class="steps">
        <div class="step active" data-step="1">
          <div class="step-indicator"><span class="step-number">1</span></div>
          <div class="step-text">
            <h3>Connect your accounts</h3>
            <p>Add your store and marketing accounts</p>
          </div>
        </div>
        <div class="step" data-step="2">
          <div class="step-indicator"><span class="step-number">2</span></div>
          <div class="step-text">
            <h3>Review permissions</h3>
            <p>Check and accept required permissions</p>
          </div>
        </div>
        <div class="step" data-step="3">
          <div class="step-indicator"><span class="step-number">3</span></div>
          <div class="step-text">
            <h3>Analysis</h3>
            <p>We'll analyze your store data</p>
          </div>
        </div>
        <div class="step" data-step="4">
          <div class="step-indicator"><span class="step-number">4</span></div>
          <div class="step-text">
            <h3>Dashboard</h3>
            <p>View your optimization results</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Main content -->
    <div class="main-content">
      <div class="content-panel" id="step1-content">
        <h2>Connect your accounts</h2>
        <p class="panel-description">Connect your online store and marketing platforms to get started with ADNOVA AI.</p>

        <div class="connection-cards">
          <!-- Shopify -->
          <div class="connection-card">
            <div class="connection-details">
              <div class="connection-icon">
                <img src="https://img.icons8.com/ios-filled/50/FFFFFF/shopify.png" alt="Shopify" width="36" height="36" />
              </div>
              <div class="connection-info">
                <h3>Shopify Store</h3>
                <p>Connect your store to optimize marketing</p>
                <span class="required-badge">Required</span>
              </div>
            </div>
            <a href="#" class="btn-connect" id="connect-shopify-btn">Connect</a>
          </div>
          <!-- Paso: dominio Shopify -->
          <div id="shopify-domain-step" class="shop-step hidden">
  <label for="shop-domain-input">Escribe el dominio de tu tienda:</label>
  <div class="shop-input-row">
    <input id="shop-domain-input"
           placeholder="mitienda.myshopify.com" type="text" />
    <button id="shop-domain-send">Enviar</button>
  </div>
</div>

<style>
  .hidden{display:none}
  .shop-step{margin-top:18px}
  .shop-input-row{display:flex;gap:8px;margin-top:6px}
  #shop-domain-input{
    flex:1;padding:10px 14px;border-radius:6px;border:1px solid #444;
    background:#1e1e26;color:#fff;
  }
  #shop-domain-send{
    padding:10px 20px;border:0;border-radius:6px;cursor:pointer;
    background:#9a5bff;color:#fff;font-weight:600;
  }
  #shop-domain-send:hover{background:#8249e3}
              </style>


          <!-- Google -->
          <div class="connection-card">
            <div class="connection-details">
              <div class="connection-icon">
                <img src="https://img.icons8.com/ios-filled/50/FFFFFF/google-logo.png" alt="Google Analytics" width="36" height="36" />
              </div>
              <div class="connection-info">
                <h3>Google Analytics & Ads</h3>
                <p>Import conversion data and campaigns</p>
                <span class="optional-badge">Optional</span>
              </div>
            </div>
             <button href="/auth/google/connect" class="btn-connect" id="connect-google-btn">Connect</button>
          </div>

          <!-- Meta -->
          <div class="connection-card">
            <div class="connection-details">
              <div class="connection-icon">
                <img src="https://img.icons8.com/ios-filled/50/FFFFFF/facebook-new.png" alt="Meta" width="36" height="36" />
              </div>
              <div class="connection-info">
                <h3>Meta Business Manager</h3>
                <p>Connect Facebook & Instagram ads</p>
                <span class="optional-badge">Optional</span>
              </div>
            </div>
            <a href="/auth/meta/login" class="btn-connect" id="connect-meta-btn">Connect</a>
          </div>
        </div>

        <div class="bottom-actions">
          <button id="continue-btn" class="btn-continue btn-continue--disabled" disabled>Continue</button>
        </div>
      </div>

      <!-- Step 2 -->
      <div class="content-panel hidden" id="step2-content">
        <h2>Review permissions</h2>
        <p class="panel-description">ADNOVA requires access to your store data to optimize your marketing campaigns.</p>

        <div class="permissions-list">
          <div class="permission-item">
            <div class="permission-icon">✓</div>
            <div class="permission-text">
              <h3>Read product data</h3>
              <p>Access to your product catalog, variants and prices</p>
            </div>
          </div>
          <div class="permission-item">
            <div class="permission-icon">✓</div>
            <div class="permission-text">
              <h3>Read customer data</h3>
              <p>Access to customer demographics and purchase history</p>
            </div>
          </div>
          <div class="permission-item">
            <div class="permission-icon">✓</div>
            <div class="permission-text">
              <h3>Read analytics</h3>
              <p>Access to store analytics and metrics</p>
            </div>
          </div>
        </div>

        <div class="bottom-actions">
          <button class="btn-secondary" id="back-btn-2">Back</button>
          <button class="btn-continue" id="continue-btn-2">Authorize access</button>
        </div>
      </div>

      <!-- Step 3 -->
      <div class="content-panel hidden" id="step3-content">
        <h2>Analysis</h2>
        <p class="panel-description">We're analyzing your store data to provide personalized marketing recommendations.</p>

        <div class="analysis-progress">
          <div class="progress-container">
            <div class="progress-bar">
              <div class="progress-indicator"></div>
            </div>
            <p class="progress-text">Analyzing products and customers...</p>
          </div>
          <div class="analysis-steps">
            <div class="analysis-step completed"><div class="analysis-step-icon">✓</div><div class="analysis-step-text">Connecting to Shopify</div></div>
            <div class="analysis-step active"><div class="analysis-step-icon">⟳</div><div class="analysis-step-text">Analyzing product catalog</div></div>
            <div class="analysis-step"><div class="analysis-step-icon">○</div><div class="analysis-step-text">Analyzing customer segments</div></div>
            <div class="analysis-step"><div class="analysis-step-icon">○</div><div class="analysis-step-text">Generating recommendations</div></div>
          </div>
        </div>

        <div class="bottom-actions">
          <button class="btn-continue" id="continue-btn-3">Continue</button>
        </div>
      </div>

      <!-- Step 4 -->
      <div class="content-panel hidden" id="step4-content">
        <h2>Ready to start!</h2>
        <p class="panel-description">Your ADNOVA AI account is now fully configured and ready to use.</p>

        <div class="success-message">
          <div class="success-icon">✓</div>
          <h3>Setup complete!</h3>
          <p>Your store is now connected and ADNOVA is ready to optimize your marketing campaigns.</p>
        </div>

        <div class="features-summary">
          <div class="feature-item">
            <div class="feature-icon">📊</div>
            <div class="feature-text"><h3>Dashboard</h3><p>View your store performance and marketing metrics</p></div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">🎯</div>
            <div class="feature-text"><h3>Campaign Optimization</h3><p>AI-powered optimization for your marketing campaigns</p></div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">📱</div>
            <div class="feature-text"><h3>Mobile App</h3><p>Monitor performance on the go with our mobile app</p></div>
          </div>
        </div>

        <div class="bottom-actions">
          <button class="btn-gradient" d="go-to-dashboard-final">Go to dashboard</button>
        </div>
      </div>
    </div>
  </div>

  <!-- BLOQUE INLINE ELIMINADO AQUI -->

  <!-- REEMPLAZAMOS POR ESTAS LÍNEAS: -->
  <script src="js/onboarding.js" defer></script>
  <script src="script.js" defer></script>
</body>
</html>
